<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup • rhud</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Setup">
<meta property="og:description" content="rhud">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rhud</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/Setup.html">Setup</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">HUD User</li>
    <li>
      <a href="../articles/Crosswalk.html">Crosswalk</a>
    </li>
    <li>
      <a href="../articles/Fair-Markets-Rent.html">Fair Markets Rent</a>
    </li>
    <li>
      <a href="../articles/Income-Limits.html">Income Limits</a>
    </li>
    <li>
      <a href="../articles/Comprehensive-Housing-and-Affordability-Strategy.html">Comprehensive Housing and Affordability Strategy</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Case Studies
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Covid-19-and-Evictions-Crosswalk.html">Analysis of COVID-19 Cases and Evictions</a>
    </li>
    <li>
      <a href="../articles/Visualizing-FMR-and-IL.html">Visualizing FMR and IL</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/etam4260/rhud/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Setup</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/etam4260/rhud/blob/HEAD/vignettes/Setup.Rmd" class="external-link"><code>vignettes/Setup.Rmd</code></a></small>
      <div class="hidden name"><code>Setup.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>You can install the development version from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"etam4260/rhud"</span><span class="op">)</span></code></pre></div>
<p>The US Department of Housing and Urban Development HUD USER requires users to gain an access key before querying their systems. You must go to <a href="https://www.huduser.gov/hudapi/public/register?comingfrom=1" class="external-link uri">https://www.huduser.gov/hudapi/public/register?comingfrom=1</a> and follow the instructions for making an account.</p>
<p>From the website, you need to make a new token. Make sure to save the token somewhere as you will only be able to view it once. However, you can use it as many times as you want. You can now supply the ‘key’ argument to the function calls. However, it is <strong>NOT RECOMMENDED</strong> to do this. To reduce the need to supply the key argument in every function call you can use the Sys.setenv() function to save the key to the user environment.</p>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="interactive-key-setup">Interactive Key Setup<a class="anchor" aria-label="anchor" href="#interactive-key-setup"></a>
</h2>
<p>There are various method of setting up a key. However, I recommend using the Sys.setenv() function.</p>
<div class="section level3">
<h3 id="using-sys-setenv-during-an-interactive-session">Using Sys.setenv() during an interactive session<a class="anchor" aria-label="anchor" href="#using-sys-setenv-during-an-interactive-session"></a>
</h3>
<p>One method of setting the API key is to use environment variables. This library searches for HUD_KEY in the user environment to check if a key has been defined. If no key has been defined, an empty string is outputted.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/etam4260/rhud" class="external-link">rhud</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"HUD_KEY"</span><span class="op">)</span></code></pre></div>
<p>To set the key…</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"HUD_KEY"</span> <span class="op">=</span> <span class="st">"2yeuduhq72ueajk"</span><span class="op">)</span>
<span class="co"># "2yeuduhq72ueajk" is just a sample key. You need to go to https://www.huduser.gov/hudapi/public/register?comingfrom=1 and register for a key and replace it here.</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"HUD_KEY"</span><span class="op">)</span></code></pre></div>
<p>You can also use the hud_set_key() function – this is quicker to type and more intuitive.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/hud_set_key.html">hud_set_key</a></span><span class="op">(</span><span class="st">"2yeuduhq72ueajk"</span><span class="op">)</span></code></pre></div>
<p>To check whether hudr can gain access to this environment variable…</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/hud_get_key.html">hud_get_key</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>It is now set up for the rest of the R session.</p>
</div>
<div class="section level3">
<h3 id="rprofile">.Rprofile<a class="anchor" aria-label="anchor" href="#rprofile"></a>
</h3>
<p>You also choose to save it into your .Rprofile to save the key in between R session.</p>
<p>When R starts it looks for .Rprofile files in different locations:</p>
<ul>
<li>R_HOME: which is the directory in that R is installed,</li>
<li>HOME: the user’s home directory,</li>
<li>The current working directory for R</li>
<li>R only loads one .Rprofile file per session and thus an .Rprofile file at the project-level overrides files in other locations.</li>
</ul>
<p>The .Rprofile file is an R script that is launch each time R starts.</p>
<p>To set the HUD_KEY in .Rprofile working directory use:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/hud_set_key.html">hud_set_key</a></span><span class="op">(</span><span class="st">"dqdqdqdqd"</span>, in_wkdir <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>To set the HUD_KEY in .Rprofile HOME directory use:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/hud_set_key.html">hud_set_key</a></span><span class="op">(</span><span class="st">"dqdqdqdqd"</span>, in_home <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><br><br><br></p>
</div>
</div>
<div class="section level2">
<h2 id="understanding-the-syntax">Understanding the Syntax<a class="anchor" aria-label="anchor" href="#understanding-the-syntax"></a>
</h2>
<p>A noticeable issue with querying geographic data is determining what resolution the data is returned in. Therefore, understanding the syntax of these function calls should easily help you determine what you are querying and what data is returned.</p>
<p>The general syntax for these functions within the package follow this pattern where {1},{2}, and {3} are placeholders:</p>
<p>hud_{1}_{2}_{3}</p>
<p>{1}: This symbol represents the dataset to query for. So for example if you want fair markets rent data, this will be ‘fmr’. If you want data from the crosswalk files, this will be ‘cw’.</p>
<p>{2}: This symbol represents the geographic resolution to query for. For example, if the function requires that you input state(s), then this will be named as ‘state.’ If the function requires that you input county(s) then this will be ‘county’.</p>
<p>{3}: This symbol represented the output geographic resolution. So for example, if we want data at a zip code level, then this will have ‘zip’.</p>
<p>For those that do not have the {2} and {3}, these are omni functions which are capable of performing all queries under {1}, but these functions are harder to understand.</p>
<p>For those that do not have the {3}, it inherits the {2}. This means that if {2} is a state input, then the data described by the output data is also a state.</p>
<p>A quick example:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/hud_cw_county_zip.html">hud_cw_county_zip</a></span><span class="op">(</span>county <span class="op">=</span> <span class="fl">22031</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2017'</span><span class="op">)</span>, quarter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'1'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The first part of the function begins with ‘hud’.</p>
<p>The second part is ‘cw’ meaning we are querying the crosswalk files.</p>
<p>The third part is ‘county’ meaning we need to input county(s)</p>
<p>The fourth part is the ‘zip’ meaning the data will be returned at a zip code resolution.</p>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="additional-help">Additional Help<a class="anchor" aria-label="anchor" href="#additional-help"></a>
</h2>
<p>If you ever get confused or need help you can easily revisit this website through where you can check the all the function definitions in the <strong><em>Reference</em></strong> tab.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/rhud_website.html">rhud_website</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will quickly open up this website on your web browser as well as the github repository where you can submit issues.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Emmet Tam.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
