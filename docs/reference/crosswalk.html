<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Using the US Housing and Urban Development USPS Crosswalk files,
crosswalk an entire dataset.
Currently supported crosswalks:
zip-tract
zip-county
zip-cbsa
zip-cbsadiv (Available 4th Quarter 2017 onwards)
zip-cd
tract-zip
county-zip
cbsa-zip
cbsadiv-zip (Available 4th Quarter 2017 onwards)
cd-zip
zip-countysub (Available 2nd Quarter 2018 onwards)
countysub-zip (Available 2nd Quarter 2018 onwards)

"><title>Crosswalk a Dataset — crosswalk • rhud</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Crosswalk a Dataset — crosswalk"><meta property="og:description" content="Using the US Housing and Urban Development USPS Crosswalk files,
crosswalk an entire dataset.
Currently supported crosswalks:
zip-tract
zip-county
zip-cbsa
zip-cbsadiv (Available 4th Quarter 2017 onwards)
zip-cd
tract-zip
county-zip
cbsa-zip
cbsadiv-zip (Available 4th Quarter 2017 onwards)
cd-zip
zip-countysub (Available 2nd Quarter 2018 onwards)
countysub-zip (Available 2nd Quarter 2018 onwards)

"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rhud</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/Setup.html">Setup</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/USPS-Crosswalk.html">USPS Crosswalk</a>
    <a class="dropdown-item" href="../articles/Fair-Market-Rents.html">Fair Market Rents</a>
    <a class="dropdown-item" href="../articles/Income-Limits.html">Income Limits</a>
    <a class="dropdown-item" href="../articles/Comprehensive-Housing-and-Affordability-Strategy.html">Comprehensive Housing and Affordability Strategy</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-studies">Case Studies</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-studies">
    <a class="dropdown-item" href="../articles/Covid-19-and-Evictions-Crosswalk.html">Analysis of Covid-19 Cases and Evictions</a>
    <a class="dropdown-item" href="../articles/Visualizing-FMR-and-IL.html">Visualizing FMR and IL</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/etam4260/rhud/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Crosswalk a Dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/etam4260/rhud/blob/HEAD/R/hud_dataset_crosswalk.R" class="external-link"><code>R/hud_dataset_crosswalk.R</code></a></small>
      <div class="d-none name"><code>crosswalk.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Using the US Housing and Urban Development USPS Crosswalk files,
crosswalk an entire dataset.
Currently supported crosswalks:</p><ol><li><p>zip-tract</p></li>
<li><p>zip-county</p></li>
<li><p>zip-cbsa</p></li>
<li><p>zip-cbsadiv (Available 4th Quarter 2017 onwards)</p></li>
<li><p>zip-cd</p></li>
<li><p>tract-zip</p></li>
<li><p>county-zip</p></li>
<li><p>cbsa-zip</p></li>
<li><p>cbsadiv-zip (Available 4th Quarter 2017 onwards)</p></li>
<li><p>cd-zip</p></li>
<li><p>zip-countysub (Available 2nd Quarter 2018 onwards)</p></li>
<li><p>countysub-zip (Available 2nd Quarter 2018 onwards)</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">crosswalk</span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">geoid</span>,
  <span class="va">geoid_col</span>,
  <span class="va">cw_geoid</span>,
  cw_geoid_col <span class="op">=</span> <span class="cn">NA</span>,
  method <span class="op">=</span> <span class="cn">NA</span>,
  year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">365</span>, <span class="st">"%Y"</span><span class="op">)</span>,
  quarter <span class="op">=</span> <span class="fl">1</span>,
  key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"HUD_KEY"</span><span class="op">)</span>,
  <span class="va">to_tibble</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A dataset with rows describing measurements at a zip,
county, county subdivision (countysub), congressional district (cd),
census tract, core base statistical area (cbsa), or core based
statistical area division (cbsadiv) geographic identifier.</p><ol><li><p>zip</p></li>
<li><p>tract</p></li>
<li><p>county</p></li>
<li><p>countysub</p></li>
<li><p>cbsa</p></li>
<li><p>cbsadiv</p></li>
<li><p>cd</p></li>
</ol></dd>
<dt>geoid</dt>
<dd><p>The current geoid that the dataset is described in: must be
zip, county, countysub, cd,
tract, cbsa, or cbsadiv geographic identifier.</p><ol><li><p>zip</p></li>
<li><p>tract</p></li>
<li><p>county</p></li>
<li><p>countysub</p></li>
<li><p>cbsa</p></li>
<li><p>cbsadiv</p></li>
<li><p>cd</p></li>
</ol></dd>
<dt>geoid_col</dt>
<dd><p>The column containing the geographic identifier; must be
zip, county, county subdivision (countysub), congressional district (cd),
census tract, core base statistical area (cbsa), and core based
statistical area division (cbsadiv) geographic identifier.
Supply either the name of the column or the index.
All elements in this column must be numbers only at the proper length.
For example, zip codes must be 5 digit numbers.</p></dd>
<dt>cw_geoid</dt>
<dd><p>The geoid to crosswalk the dataset to; must be
zip, county, county subdivision (countysub), congressional district (cd),
census tract, core base statistical area (cbsa), or core based
statistical area division (cbsadiv) geoid.</p><ol><li><p>zip</p></li>
<li><p>tract</p></li>
<li><p>county</p></li>
<li><p>countysub</p></li>
<li><p>cbsa</p></li>
<li><p>cbsadiv</p></li>
<li><p>cd</p></li>
</ol></dd>
<dt>cw_geoid_col</dt>
<dd><p>The columns in the dataset to distribute
according to method ratio.
If method is empty, no allocation method will be applied --
the crosswalk file will just be merged to the dataset.
All elements in these columns must be numbers only.</p></dd>
<dt>method</dt>
<dd><p>The allocation method to use: residential,
business, other, or total. If method is empty, no allocation
method will be applied -- the crosswalk file will just be merged
to the dataset.</p><ol><li><p>res</p></li>
<li><p>bus</p></li>
<li><p>tot</p></li>
<li><p>oth</p></li>
</ol></dd>
<dt>year</dt>
<dd><p>Gets the year that this data was recorded. Can specify multiple
years. Default is the previous year.</p></dd>
<dt>quarter</dt>
<dd><p>Gets the quarter of the year that this data was recorded.
Defaults to the first quarter of the year.</p></dd>
<dt>key</dt>
<dd><p>The key obtained from HUD
(US Department of Housing and Urban Development)
USER website.</p></dd>
<dt>to_tibble</dt>
<dd><p>If TRUE, return the data in a tibble format
rather than a data frame.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataframe containing the crosswalked dataset.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code>crosswalk()</code></p></li>
<li><p><code><a href="hud_cw_zip_tract.html">hud_cw_zip_tract()</a></code></p></li>
<li><p><code><a href="hud_cw_zip_county.html">hud_cw_zip_county()</a></code></p></li>
<li><p><code><a href="hud_cw_zip_cbsa.html">hud_cw_zip_cbsa()</a></code></p></li>
<li><p><code><a href="hud_cw_zip_cbsadiv.html">hud_cw_zip_cbsadiv()</a></code></p></li>
<li><p><code><a href="hud_cw_zip_countysub.html">hud_cw_zip_countysub()</a></code></p></li>
<li><p><code><a href="hud_cw_zip_cd.html">hud_cw_zip_cd()</a></code></p></li>
<li><p><code><a href="hud_cw_tract_zip.html">hud_cw_tract_zip()</a></code></p></li>
<li><p><code><a href="hud_cw_county_zip.html">hud_cw_county_zip()</a></code></p></li>
<li><p><code><a href="hud_cw_cbsa_zip.html">hud_cw_cbsa_zip()</a></code></p></li>
<li><p><code><a href="hud_cw_cbsadiv_zip.html">hud_cw_cbsadiv_zip()</a></code></p></li>
<li><p><code><a href="hud_cw_cd_zip.html">hud_cw_cd_zip()</a></code></p></li>
<li><p><code><a href="hud_cw_countysub_zip.html">hud_cw_countysub_zip()</a></code></p></li>
<li><p><code><a href="hud_cw.html">hud_cw()</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/etam4260/rhud" class="external-link">rhud</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">42134</span>, <span class="fl">12413</span>, <span class="fl">13132</span><span class="op">)</span>,</span>
<span class="r-in">                     county <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24047</span>, <span class="fl">24045</span>, <span class="fl">24043</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">crosswalk</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sample</span>, geoid <span class="op">=</span> <span class="st">"county"</span>, geoid_col <span class="op">=</span> <span class="st">"county"</span>,</span>
<span class="r-in">          cw_geoid <span class="op">=</span> <span class="st">"zip"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">crosswalk</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sample</span>, geoid <span class="op">=</span> <span class="st">"county"</span>, geoid_col <span class="op">=</span> <span class="st">"county"</span>,</span>
<span class="r-in">          cw_geoid <span class="op">=</span> <span class="st">"zip"</span>, cw_geoid_col <span class="op">=</span> <span class="st">"population"</span>, method <span class="op">=</span> <span class="st">"res"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">crosswalk</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sample</span>, geoid <span class="op">=</span> <span class="st">"county"</span>, geoid_col <span class="op">=</span> <span class="st">"county"</span>,</span>
<span class="r-in">          cw_geoid <span class="op">=</span> <span class="st">"zip"</span>, cw_geoid_col <span class="op">=</span> <span class="st">"population"</span>, method <span class="op">=</span> <span class="st">"bus"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">crosswalk</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sample</span>, geoid <span class="op">=</span> <span class="st">"county"</span>, geoid_col <span class="op">=</span> <span class="st">"county"</span>,</span>
<span class="r-in">          cw_geoid <span class="op">=</span> <span class="st">"zip"</span>, cw_geoid_col <span class="op">=</span> <span class="st">"population"</span>, method <span class="op">=</span> <span class="st">"bus"</span>,</span>
<span class="r-in">          year <span class="op">=</span> <span class="fl">2018</span>, quarter <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Emmet Tam.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

