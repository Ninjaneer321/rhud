---
title: "Fair-Markets-Rent"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Fair-Markets-Rent}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

### Program Overview

"Fair Market Rent is the rent amount, including utilities (except telephone),
to rent privately owned, existing, decent, safe and sanitary rental housing of 
modest (non-luxury) nature with suitable amenities.

The Fair Market Rent rate established by Department of Housing and Urban 
Development (HUD) to be used as a basis for paying federal housing assistance
programs like the Housing Choice Voucher Program.

Fair Market Rent prices are set for each county and metro area across the
country. Rates are set for zero-bedroom studios or efficiency all the way
up to 4-bedroom homes.

Fair Market Rent (FMR) is defined as the 40th percentile of rents paid by 
recent movers (renters who moved in the last 24 months) in a given FMR area. 
This means FMR rent prices are slightly below the median price 
("What Is Fair Market Rent? | RentData.org")."


"Fair Market Rents (FMRs) are used to determine payment standard amounts for the
Housing Choice Voucher program, to determine initial renewal rents for some
expiring project-based Section 8 contracts, to determine initial rents for
housing assistance payment (HAP) contracts in the Moderate Rehabilitation Single
Room Occupancy program (Mod Rehab), rent ceilings for rental units in both the
HOME Investment Partnerships program and the Emergency Solution Grants program,
calculation of maximum award amounts for Continuum of Care recipients and the
maximum amount of rent a recipient may pay for property leased with Continuum of
Care funds, and calculation of flat rents in Public Housing units. The U.S.
Department of Housing and Urban Development (HUD) annually estimates FMRs for
Office of Management and Budget (OMB) defined metropolitan areas, some HUD
defined subdivisions of OMB metropolitan areas and each non metropolitan county.
42 USC 1437f requires FMRs be posted at least 30 days before they are effective
and that they are effective at the start of the federal fiscal year (generally
October 1). Fair Market Rents, as defined in 24 CFR 888.113 are estimates of
40th percentile gross rents for standard quality units within a metropolitan
area or non metropolitan county ("Fair Market Rents | HUD USER")."

### Examples

This is a basic examples to show you how to query the Fair Markets Rent API. Before
looking at the outputted data I RECOMMEND first taking a look at [Input Arguments][]
as well as [Output Data][] located at the bottom of the page.

DISCLAIMER: The output tables are too large to be displayed here so we choose to
leave them out.

Querying a state will return a data frame with rows representing counties 
within the state. A (state fip + county fip + county subdivision) 10 digit code
will return a 1 row data frame for that county. A CBSA code will also return a 1 
row data frame for that area. 

#### US States
This is an example to show you how to query for all states in the US.
```{r, eval=FALSE}
library(hudr)
hud_states()
```

#### US Counties 
This is an example to show you how to query for all counties in MD,
Virginia, and California, respectively.
```{r, eval=FALSE}
hud_counties("MD")

hud_counties("Virginia")

# If you choose to specify state fips code, you need truncate the 
# extra leading zero from the 2 digit code. For example,
# 06 turns into 6 but...
# 56 just turns in 56. You can supply numeric or character types.
hud_counties("6")
```

#### US Metropolitan Areas
This is an example to show you how to query for all metropolitan areas in US.
```{r, eval=FALSE}
hud_metropolitan()
```

#### State Level Fair Markets Rent
This is an example which shows you how to query the Fair Markets Rent on
a state level basis. You can use the abbreviation, state name, or fips code. It
will return all counties in the state and their Fair Markets Rents.
```{r, eval=FALSE}
# This gets FMR data for the state of Virginia in 2021.
hud_fmr(query = 'VA', year = '2021')

hud_fmr(query= "Virginia", year = '2021')

# If you choose to specify state fips code, you need truncate the 
# extra leading zero from the 2 digit code. For example,
# 06 turns into 6 but...
# 56 just turns in 56. You can supply numeric or character types.
hud_fmr(query= "51", year = '2021')
```

#### County Level Fair Markets Rent
This is an example which shows you how to query the Fair Markets Rent on a
county level basis. These are defined with a 2 digit state code + 3 digit county code.
You also need a 99999 code added onto the end. We currently don't know why the 
extra 99999 is included and have not found any cases where its different. I recommend
taking a look at [US Counties][] to determine what counties are available.
```{r, eval=FALSE}
# Getting a county requires a 2 digit state fip + 3 digit county fip + 99999
hud_fmr(query = '0100199999', year = '2017')
```

#### Small Areas Fair Markets Rent
This is an example which shows you how to query the Small Areas Fair Markets Rent.
Small Areas are defined as metropolitan and micropolitan areas which are defined in
CBSA codes. Currently we know how to query for metropolitan, but not sure for 
micropolitan yet. I recommend
taking a look at [US Metropolitan Areas][] to determine what counties are available.
```{r, eval=FALSE}
# Gets FMR data for METRO area.
hud_fmr(query = "METRO47900M47900", year=c(2018))
```

### Input Arguments

**QUERY**: Can provide either a 10 digit FIPS code which is almost always
  state fips + county fips + 99999, or state abbreviation. 
  Can also provide a CBSA code. This CBSA code requires both itself and its
  corresponding division code. You are only allowed to query for metropolitan areas.
  
  Run hud_states() to get a list of counties.
  
  Run hud_metropolitan() to get a list of metropolitan areas.
  
  Run hud_counties("MD") to get list of counties in MD.
  
  * query = 'METRO12700M12700'
  * query = 'MD'
  * query = '5100199999'

**YEAR**: Year range of the data to retrieve. Defaults to current year. 

  * year = c(2019, 2018, 2021)
  * year = c(2016)
  * year = 2021

**KEY**: The API key.

  * key = "wqokqo2138jdi13wfwwfwcytjyr"
  
### Output Data 

1) **state/county or CBSA**
    * Name of the county if it is a county.


2) **year** 
    * Value of year


3) **counties_msa**
    * Names of all counties belonging to the Metro Area if it is a Metro Area
    (MSA).


4) **town_name**
    * Town name - applicable for North East regions


5) **metro_status**
    * value will be "1" if it is a metropolitan county. Otherwise value will be
    "0".


6) **metro_name** 
    * Metro area name if metro_status is "1"


7) **smallarea_status** 
    * value will be "1" if it is a small area. Otherwise value will be "0".


8) **Efficiency(A studio apartment)** 
    * Efficiency FMR in US Dollars


9) **One-Bedroom** 
    * 1-bedroom FMR in US Dollars


10) **Two-Bedroom** 
    * 2-bedroom FMR in US Dollars


11) **Three-Bedroom** 
    * 3-bedroom FMR in US Dollars


12) **Four-Bedroom** 
    * 4-bedroom FMR in US Dollars
    

### References

"What Is Fair Market Rent? | RentData.org." Www.rentdata.org,
www.rentdata.org/articles/what-is-fair-market-rent. Accessed 18 Feb. 2022.

"Fair Market Rents | HUD USER." Huduser.gov, U.S Department of Housing and Urban
Development, 2017, www.huduser.gov/portal/datasets/fmr.html.
